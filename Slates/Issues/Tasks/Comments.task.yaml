task:
    environment: default
    fieldgrid:
        children: []
        elements:
            element_0:
                url: ./Add_Comments.task.yaml
            element_1:
                url: ./../Fields/issues/Comment.field.yaml
        values: {}
    streams:
    -   main:
        -   content: "filters = []\r\n\r\nrun = False\r\nif 'issue_id' in parameters:\r\
                \n    issue_id = parameters['issue_id']\r\n    \r\n    if issue_id\
                \ != \"\":\r\n        print(\"issue_id: \" + issue_id)\r\n       \
                \ filters.append(f\"\"\"issue_id = '{issue_id}'\"\"\")\r\n       \
                \ run = True\r\n\r\nfilter=\"\"\r\n\r\nif len(filters)>0:\r\n    filter\
                \ = 'WHERE ' + ' AND '.join(filters)\r\n\r\nprint(\"Filter:\", filter)\r"
            loop-iterable: ''
            type: code
        -   chart:
                advanced: ''
                legend: 'Off'
                series-annos:
                -   anno-col: ''
                    anno-col-back: ''
                    anno-dt: false
                    anno-i: ''
                    anno-label: ''
                    anno-s: ''
                    anno-tab: 0
                    anno-type: box
                    anno-u: ''
                    anno-width: ''
                    anno-x: ''
                    anno-xm: ''
                    anno-y: ''
                    anno-ym: ''
                series-formats:
                -   format-col: ''
                    format-col-back: ''
                    format-dt: false
                    format-f: false
                    format-lw: ''
                    format-nrx: ''
                    format-p: false
                    format-pr: ''
                    format-ps: circle
                    format-title: ''
                    format-ua: ''
                series-groups:
                -   series-l: ''
                    series-s: ''
                    series-tab: 0
                    series-type: Line
                    series-u: ''
                    series-x: ''
                    series-y: ''
                    series-ymax: ''
                    series-ymin: ''
                    series-z: ''
                subtitle: ''
                title: ''
                xaxis-type: category
            loop-iterable: run
            output: table
            table:
                checkbox: false
                export: false
                filter: false
                footer: false
                multiselect-row: false
                pagesize: '15'
                pagination: true
                search: false
                slate: ''
                sortable: true
                style: default
                title: ''
            tabs:
            -   content: "select comment_id, issue_id, reviewer, comment, date_created\r\
                    \nfrom comments\r\n{filter}\r\nORDER BY date_created DESC\r\n\
                    LIMIT 3;"
                source: '{ Clarama[''Services''][''ClaramaSourceDB''] }'
                tab_id: 0
            type: data
        -   content: print(parameters)
            loop-iterable: ''
            type: code
